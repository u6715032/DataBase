<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login ‚Ä¢ Library System</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container" aria-labelledby="pageTitle">
    <header class="header">
      <div class="logo" aria-hidden="true">LS</div>
      <div>
        <h1 id="pageTitle">Library System ‚Äî Login</h1>
        <p class="lead">Sign in to your account (Staff / Admin / Member)</p>
      </div>
    </header>

    <form id="loginForm" onsubmit="return handleLogin(event)" novalidate>
      <div class="form-group">
        <label for="email">Email or Username</label>
        <input id="email" name="email" type="text" inputmode="email" autocomplete="username" required
               placeholder="you@example.com or username" />
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <div style="position:relative">
          <input id="password" name="password" type="password" autocomplete="current-password" required
                 placeholder="Enter your password" />
          <button type="button" aria-label="Toggle password visibility"
                  onclick="togglePassword()" style="position:absolute;right:8px;top:8px;border:0;background:transparent;cursor:pointer;color:var(--muted)">
            üëÅ
          </button>
        </div>
      </div>

      <div class="form-group row" style="margin-top:16px">
        <button class="btn" type="submit">Login</button>
        <a class="btn ghost" href="register.html" role="button">Register</a>
      </div>

      <p class="helper">
        <a class="inline-link" href="forgot.html">Forgot password?</a>
      </p>

      <div id="msg" role="status" aria-live="polite" class="note"></div>
    </form>

    <p class="footer">Developed for CSX3006 ‚Äî Library Management System</p>
  </main>

<script>
function togglePassword(){
  const p = document.getElementById('password');
  p.type = p.type === 'password' ? 'text' : 'password';
}
async function handleLogin(e){
  e.preventDefault();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  const msg = document.getElementById('msg');
  msg.textContent = '';
  if(!email || !password){
    msg.textContent = 'Please fill both fields.';
    msg.className = 'error';
    return false;
  }

  // demo behaviour: simulate login success for any values
  msg.textContent = 'Logging in‚Ä¶';
  msg.className = 'note';
  // Simulate async call
  setTimeout(()=>{
    // In real app, call your API and then redirect based on role.
    msg.textContent = 'Login successful ‚Äî redirecting to dashboard (demo).';
    msg.className = 'success';
    // example redirect:
    // window.location.href = '/staff/dashboard.html';
  },800);

  return false;
}
</script>
</body>
</html>
